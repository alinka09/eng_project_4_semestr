(this["webpackJsonpit_project-web-app"]=this["webpackJsonpit_project-web-app"]||[]).push([[0],{21:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),c=a(23),r=a.n(c),o=(a(31),a(26)),i=a(3),l=a(4),u=a(13),h=a(6),p=a(5),j=(a(32),a(8)),d=a.n(j),b=a(14),m="http://engproject-4sem.std-960.ist.mospolytech.ru/api",f=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"getDatas",value:function(){var e=Object(b.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=m+"/".concat(t,"/"),e.next=3,fetch(a,{method:"GET",headers:{Authorization:"Token ".concat(localStorage.token)}}).then((function(e){return e.json()}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getData",value:function(){var e=Object(b.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m+"/".concat(a,"/").concat(t),e.next=3,fetch(n,{method:"GET",headers:{Authorization:"Token ".concat(localStorage.token)}}).then((function(e){return e.json()}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"deleteData",value:function(){var e=Object(b.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m+"/".concat(a,"/").concat(t),e.next=3,fetch(n,{method:"DELETE",headers:{Authorization:"Token ".concat(localStorage.token)}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"createData",value:function(){var e=Object(b.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m+"/".concat(a,"/"),e.abrupt("return",fetch(n,{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json",Authorization:"Token ".concat(localStorage.token)}}).then((function(e){console.log(e)})));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"updateData",value:function(){var e=Object(b.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m+"/".concat(a,"/").concat(t.id),e.abrupt("return",fetch(n,{method:"PUT",body:JSON.stringify(t),headers:{"Content-type":"application/json",Authorization:"Token ".concat(localStorage.token)}}).then((function(e){console.log(e)})));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]),a}(s.a.Component),O=a(0),_=new f,g=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={company:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;_.getDatas("company").then((function(t){e.setState({company:t.data})}))}},{key:"render",value:function(){return Object(O.jsxs)("main",{className:"apiTest",children:[Object(O.jsx)("h2",{className:"apiTest__title",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439"}),Object(O.jsx)("ul",{className:"apiTest__list",children:this.state.company.map((function(e){return Object(O.jsxs)("li",{className:"apiTest__item",children:["id:",e.id,Object(O.jsx)("br",{}),"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435: ",e.name,Object(O.jsx)("br",{}),"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: ",e.opisanie,Object(O.jsx)("br",{}),"\u0422\u0435\u043b\u0435\u0444\u043e\u043d: ",e.telephon,Object(O.jsx)("br",{}),"\u0424\u0438\u043e: ",e.fio,Object(O.jsx)("br",{})]},e.id)}))})]})}}]),a}(s.a.Component),x=a(2),v=a(9),y=(a(21),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).logout=function(t){t.preventDefault(),e.props.setLogged(!1),localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("is_staff"),localStorage.removeItem("is_superuser"),e.props.history.push("/")},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(O.jsx)("header",{className:"header",children:Object(O.jsxs)("nav",{className:"navbar",children:[Object(O.jsx)("a",{href:"#brand",className:"navbar__brand",children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"}),Object(O.jsxs)("ul",{className:"navbar__ul ul__links",children:[Object(O.jsx)("li",{className:"navbar__item",children:Object(O.jsx)(v.b,{className:"navbar__link",to:"/Main",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(O.jsx)("li",{className:"navbar__item",children:Object(O.jsx)(v.b,{className:"navbar__link",to:"/ListCompany",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439"})}),Object(O.jsx)("li",{className:"navbar__item",children:Object(O.jsx)(v.b,{className:"navbar__link",to:"/AboutUs",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"})})]}),Object(O.jsx)("ul",{className:"navbar__ul",children:Object(O.jsx)("li",{className:"navbar__item",children:Object(O.jsx)("a",{className:"navbar__link",href:"#logout",onClick:this.logout,children:"\u0412\u044b\u0439\u0442\u0438"})})})]})})}}]),a}(s.a.Component)),k=Object(x.f)(y),S=new f,N=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={rabota:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;S.getDatas("rabota").then((function(t){e.setState({rabota:t.data}),console.log(t.data)}))}},{key:"render",value:function(){return Object(O.jsxs)("div",{className:"admin",children:[Object(O.jsx)("div",{className:"table__description",children:Object(O.jsx)("h4",{className:"table__title",children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438"})}),Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{className:"table__head",children:Object(O.jsxs)("tr",{className:"table__row",children:[Object(O.jsx)("th",{scope:"col",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(O.jsx)("th",{scope:"col",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(O.jsx)("th",{scope:"col",children:"\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(O.jsx)("th",{scope:"col",children:"\u0423\u0441\u043b\u043e\u0432\u0438\u044f"}),Object(O.jsx)("th",{scope:"col",children:"\u041e\u0431\u044f\u0437\u0430\u043d\u043d\u043e\u0441\u0442\u0438"})]})}),Object(O.jsx)("tbody",{className:"table__body",children:this.state.rabota.map((function(e){return Object(O.jsxs)("tr",{className:"table__row",children:[Object(O.jsx)("td",{children:e.name}),Object(O.jsx)("td",{children:e.opisanie}),Object(O.jsx)("td",{children:e.trebovanie}),Object(O.jsx)("td",{children:e.uslovia}),Object(O.jsx)("td",{children:e.obyazannosti})]})}))})]})]})}}]),a}(s.a.Component),C=new f,w="company",D=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={compan:{name:"",opisanie:"",pochta:"",telephon:""},company:[]},n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state.compan,a={name:t.name,opisanie:t.opisanie,telephon:t.telephon,pochta:t.pochta};C.createData(a,w)}},{key:"handleChange",value:function(e){this.setState((function(t){var a=Object.assign({},t.compan);return a[e.target.name]=e.target.value,{compan:a}})),console.log(this.state.compan)}},{key:"getData",value:function(){var e=this;C.getDatas(w).then((function(t){e.setState({company:t.data})}))}},{key:"handleDelete",value:function(e){C.deleteData(e,w),this.getData()}},{key:"componentDidMount",value:function(){this.getData()}},{key:"handleSort",value:function(e){this.state.company.sort()}},{key:"render",value:function(){var e=this;return Object(O.jsxs)("div",{className:"admin",children:[Object(O.jsxs)("div",{className:"table__description",children:[Object(O.jsx)("h4",{className:"table__title",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439"}),Object(O.jsxs)(v.b,{className:"admin__button",to:"/CreateUpdateCompany",children:[Object(O.jsx)("b",{children:"+"})," \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e"]})]}),Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{className:"table__head",children:Object(O.jsxs)("tr",{className:"table__row",children:[Object(O.jsx)("th",{onClick:function(){return e.handleSort("id")},scope:"col",children:"id"}),Object(O.jsx)("th",{scope:"col",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(O.jsx)("th",{scope:"col",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(O.jsx)("th",{scope:"col",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),Object(O.jsx)("th",{scope:"col",children:"\u041f\u043e\u0447\u0442\u0430"}),Object(O.jsx)("th",{scope:"col",children:"\u0424\u0418\u041e \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u044f"}),Object(O.jsx)("th",{scope:"col",children:"\u041b\u043e\u0433\u0438\u043d"}),Object(O.jsx)("th",{scope:"col",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(O.jsx)("th",{scope:"col",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435"})]})}),Object(O.jsx)("tbody",{className:"table__body",children:this.state.company.map((function(t){return Object(O.jsxs)("tr",{className:"table__row",children:[Object(O.jsx)("td",{children:t.id}),Object(O.jsx)("td",{children:t.name}),Object(O.jsx)("td",{children:t.opisanie}),Object(O.jsx)("td",{children:t.telephon}),Object(O.jsx)("td",{children:t.pochta}),Object(O.jsx)("td",{children:t.fio}),Object(O.jsx)("td",{children:t.login}),Object(O.jsx)("td",{children:t.password}),Object(O.jsxs)("td",{children:[Object(O.jsx)("button",{className:"table__delete",onClick:function(a){e.handleDelete(t.id)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),Object(O.jsx)(v.b,{className:"table__update",to:"/CreateUpdateCompany/?id="+t.id,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})}))})]})]})}}]),a}(s.a.Component),I=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(O.jsxs)("main",{children:[Object(O.jsx)("div",{className:"mainPage",children:Object(O.jsxs)("h1",{className:"mainPage__title",children:["\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c, ",localStorage.getItem("username"),"!"]})}),!0===this.props.is_staff||"true"===localStorage.getItem("is_staff")?Object(O.jsx)(N,{}):null,!0===this.props.is_superuser||"true"===localStorage.getItem("is_superuser")?Object(O.jsx)(D,{}):null]})}}]),a}(s.a.Component),U=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getPermissions=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(n.state.url,"api/users/"),{method:"GET",headers:{"Content-type":"application/json",Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(e){n.setState({users:e}),n.state.users.map((function(e){return e.username===localStorage.getItem("username")&&(localStorage.setItem("is_staff",e.is_staff),localStorage.setItem("is_superuser",e.is_superuser),n.props.set_status(e.is_staff,e.is_superuser),console.log(n.props.is_staff,n.props.is_superuser)),e}))}));case 2:n.props.history.push("/Main"),n.props.setLogged(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.login=function(){var e=Object(b.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("".concat(n.state.url,"auth/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n.state.credentials)}).then((function(e){return e.json()})).then((function(e){n.setState({data:e}),null!==e.token&&void 0!==e.token&&(localStorage.setItem("token",e.token),n.setState({token:e.token}))})).catch();case 3:null!==localStorage.getItem("token")?n.getPermissions():alert("\u0412\u044b \u0432\u0432\u0435\u043b\u0438 \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435");case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.inputChange=function(e){var t=n.state.credentials;t[e.target.name]=e.target.value,n.setState({credentials:t}),localStorage.setItem("username",t.username)},n.state={credentials:{username:"",password:""},url:"http://engproject-4sem.std-960.ist.mospolytech.ru/",data:{},users:[],token:null},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(O.jsxs)("div",{className:"loginForm",children:[Object(O.jsx)("h1",{className:"loginForm__title",children:"\u0414\u043e\u0431\u0440\u043e \u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"}),Object(O.jsxs)("form",{children:[Object(O.jsxs)("div",{className:"loginForm__div",children:[Object(O.jsx)("label",{className:"loginForm__label",for:"username",children:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:"}),Object(O.jsx)("input",{id:"username",className:"loginForm__input",type:"text",name:"username",value:this.state.credentials.username,onChange:this.inputChange})]}),Object(O.jsxs)("div",{className:"loginForm__div",children:[Object(O.jsx)("label",{className:"loginForm__label",for:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c:"}),Object(O.jsx)("input",{id:"password",className:"loginForm__input",type:"password",name:"password",value:this.state.credentials.password,onChange:this.inputChange})]}),Object(O.jsx)("button",{className:"loginForm__button",onClick:function(t){return e.login(t)},children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}}]),a}(s.a.Component),F=Object(x.f)(U),T=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).logout=function(t){t.preventDefault(),e.props.setLogged(!1),localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("is_staff"),localStorage.removeItem("is_superuser"),e.props.history.push("/")},e}return Object(l.a)(a,[{key:"render",value:function(){var e=Object(O.jsx)("link",{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css",integrity:"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T",crossorigin:"anonymous"});return Object(O.jsxs)("div",{className:"container",children:[e,Object(O.jsx)("div",{className:"mt-4",children:Object(O.jsx)("h1",{className:"text-center",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"})}),Object(O.jsx)("p",{children:"\u0417\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\u0442\u0435! \u0417\u0434\u0435\u0441\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0439\u0442\u0438 \u0432\u0441\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u0430\u0439\u0442\u0435. \u041c\u0435\u043d\u044f \u0437\u043e\u0432\u0443\u0442 \u0422\u0438\u0448\u043a\u0438\u043d\u0430 \u0410\u043b\u0438\u043d\u0430 \u0424\u0435\u0434\u043e\u0440\u043e\u0432\u043d\u0430, \u044f \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043a\u0430 \u0433\u0440\u0443\u043f\u043f\u044b 191-322. \u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u044e \u0432\u0430\u0448\u0435\u043c\u0443 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u044e \u043c\u043e\u0439 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442."}),Object(O.jsx)("p",{children:"\u0412 \u0448\u0430\u043f\u043a\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0432\u044b \u0432\u0438\u0434\u0438\u0442\u0435 4 \u0432\u043a\u043b\u0430\u0434\u043a\u0438: \u0413\u043b\u0430\u0432\u043d\u0430\u044f, \u0421\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439, RestApi, \u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435. \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u044d\u0442\u0438\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u0433\u043e\u0432\u043e\u0440\u044f\u0442 \u0441\u0430\u043c\u0438 \u0437\u0430 \u0441\u0435\u0431\u044f. \u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u043d\u0438\u0446\u0435 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0432\u044b\u0432\u043e\u0434 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0420\u0430\u0431\u043e\u0442\u0430 \u0438 \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438."}),Object(O.jsx)("p",{children:'\u0415\u0441\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0437\u0430\u0448\u0435\u043b \u043f\u043e\u0434 \u0430\u0434\u043c\u0438\u043d\u043e\u043c, \u0442\u043e \u043e\u043d \u0438\u043c\u0435\u0435\u0442 \u043f\u0440\u0430\u0432\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u043b\u0438 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0430\u043a\u043e\u0443-\u0442\u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c. \u041d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 "\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439" \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0432\u044b\u0432\u043e\u0434 \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u0443\u044e\u0449\u0435\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438. \u0423\u0434\u0430\u0447\u043d\u043e\u0433\u043e \u0412\u0430\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f! \u0422\u0430\u043a\u0436\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043e\u0439\u0442\u0438 \u043f\u043e\u0434 \u0434\u0432\u0443\u043c\u044f \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438. \u042d\u0442\u043e personal \u0438 user. (\u0412\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043d\u0438\u0445 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0432 \u0430\u0434\u043c\u0438\u043d \u043f\u0430\u043d\u0435\u043b\u0435 \u0414\u0436\u0430\u043d\u0433\u043e)'}),Object(O.jsx)("img",{src:"mem.jpg",className:"mx-auto d-block"})]})}}]),a}(s.a.Component),M=a(25),L=a.n(M),A=new f,E="company",z=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={compan:{name:"",opisanie:"",pochta:"",telephon:"",fio:"",login:"",password:""},company:[],params:L.a.parse(n.props.location.search)},n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:"handleCreate",value:function(){var e=this.state.compan,t={name:e.name,opisanie:e.opisanie,telephon:e.telephon,pochta:e.pochta,fio:e.fio,login:e.login,password:e.password};A.createData(t,E),this.props.history.push("/Main")}},{key:"handleSubmit",value:function(e){var t=this.state.params;e.preventDefault(),t&&t.id?this.handleUpdate(t.id):this.handleCreate()}},{key:"handleChange",value:function(e){this.setState((function(t){var a=Object.assign({},t.compan);return a[e.target.name]=e.target.value,{compan:a}})),console.log(this.state.compan)}},{key:"handleUpdate",value:function(e){this.props.history.push("/Main"),A.updateData(this.state.compan,E)}},{key:"componentDidMount",value:function(){var e=this,t=this.state.params;t&&t.id&&A.getData(t.id,E).then((function(t){e.setState({compan:t})}))}},{key:"render",value:function(){var e=this;return Object(O.jsxs)("form",{className:"createUpdateForm",onSubmit:this.handleSubmit,children:[Object(O.jsx)("h4",{className:"createUpdateForm__title",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e"}),Object(O.jsx)("label",{className:"createUpdateForm__label",for:"name",children:" \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(O.jsx)("input",{id:"name",className:"createUpdateForm__input",name:"name",type:"text",value:this.state.compan.name,onChange:function(t){return e.handleChange(t)}}),Object(O.jsx)("label",{className:"createUpdateForm__label",for:"opisanie",children:" \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"}),Object(O.jsx)("input",{id:"opisanie",className:"createUpdateForm__input",name:"opisanie",type:"text",value:this.state.compan.opisanie,onChange:function(t){return e.handleChange(t)}}),Object(O.jsx)("label",{className:"createUpdateForm__label",for:"pochta",children:" E-mail:"}),Object(O.jsx)("input",{id:"pochta",className:"createUpdateForm__input",name:"pochta",type:"text",value:this.state.compan.pochta,onChange:function(t){return e.handleChange(t)}}),Object(O.jsx)("label",{className:"createUpdateForm__label",for:"telephon",children:" \u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430:"}),Object(O.jsx)("input",{id:"telephon",className:"createUpdateForm__input",name:"telephon",type:"text",value:this.state.compan.telephon,onChange:function(t){return e.handleChange(t)}}),Object(O.jsx)("label",{className:"createUpdateForm__label",for:"fio",children:" \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"}),Object(O.jsx)("input",{id:"fio",className:"createUpdateForm__input",name:"fio",type:"text",value:this.state.compan.fio,onChange:function(t){return e.handleChange(t)}}),Object(O.jsx)("label",{className:"createUpdateForm__label",for:"login",children:" E-mail:"}),Object(O.jsx)("input",{id:"login",className:"createUpdateForm__input",name:"login",type:"text",value:this.state.compan.login,onChange:function(t){return e.handleChange(t)}}),Object(O.jsx)("label",{className:"createUpdateForm__label",for:"password",children:" \u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430:"}),Object(O.jsx)("input",{id:"password",className:"createUpdateForm__input",name:"password",type:"text",value:this.state.compan.password,onChange:function(t){return e.handleChange(t)}}),Object(O.jsxs)("div",{className:"createUpdateForm__buttons",children:[Object(O.jsx)("input",{className:"createUpdateForm__button button__save",type:"submit",value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(O.jsx)(v.b,{className:"createUpdateForm__button button__back",to:"/Main",children:"\u041d\u0430\u0437\u0430\u0434"})]})]})}}]),a}(s.a.Component),J=Object(x.f)(z),P=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeToken=function(e){n.setState(e)},n.state={is_logged:!!localStorage.getItem("token"),token:null,is_staff:localStorage.getItem("is_staff"),is_superuser:localStorage.getItem("is_superuser")},n.setLoggedStatus=n.setLoggedStatus.bind(Object(u.a)(n)),n.setisStaffIsSuperuser=n.setisStaffIsSuperuser.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){void 0!==localStorage.getItem("token")&&this.setState({is_logged:!1})}},{key:"setisStaffIsSuperuser",value:function(e,t){this.setState({is_staff:e,is_superuser:t})}},{key:"setLoggedStatus",value:function(e){this.setState({is_logged:e})}},{key:"render",value:function(){return null===localStorage.getItem("token")||void 0===localStorage.getItem("token")?Object(O.jsx)(v.a,{children:Object(O.jsx)(F,{token:this.state.token,url:this.state.url,is_logged:this.state.is_logged,setLogged:this.setLoggedStatus,is_staff:this.state.is_staff,is_superuser:this.state.is_superuser,set_status:this.setisStaffIsSuperuser})}):Object(O.jsxs)(v.a,{children:[Object(O.jsx)(k,{token:this.state.token,url:this.state.url,is_logged:this.state.is_logged,setLogged:this.setLoggedStatus,is_staff:this.state.is_staff,is_superuser:this.state.is_superuser,set_status:this.setisStaffIsSuperuser}),Object(O.jsxs)(x.c,{children:[Object(O.jsx)(x.a,{path:"/Main",children:Object(O.jsx)(I,{is_staff:this.state.is_staff,is_superuser:this.state.is_superuser})}),Object(O.jsx)(x.a,{path:"/ListCompany",children:Object(O.jsx)(g,{url:this.state.url})}),Object(O.jsx)(x.a,{path:"/AboutUs",children:Object(O.jsx)(T,{})}),Object(O.jsx)(x.a,{path:"/CreateUpdateCompany",component:J}),Object(O.jsxs)(x.a,{path:"/CreateUpdateCompany/?id=id",children:[" render=",function(e){return Object(O.jsx)(J,Object(o.a)({},e))}]})]})]})}}]),a}(s.a.Component);r.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(P,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.bf831109.chunk.js.map